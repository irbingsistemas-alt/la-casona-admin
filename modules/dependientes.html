<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Men√∫ - Dependientes | La Casona de 17</title>
  <link rel="stylesheet" href="../style-base.css" />
  <link rel="icon" href="assets/logo.png" type="image/png"sizes="32x32">
  <style>
    #menu { max-height:500px; overflow-y:auto; padding-right:10px; border:1px solid #ccc; margin-bottom:20px; }
    .categoria-grupo { padding-bottom:10px; border-bottom:1px dashed #ddd; margin-bottom:15px; }
    .categoria-grupo h3 { margin:10px 0 5px; font-size:1rem; color:#444; }
    .menu-item { display:flex; gap:10px; align-items:center; padding:6px 0; }
    .menu-item .nombre { flex:1; }
    .menu-item .precio { width:90px; text-align:right; font-weight:700; }
    .menu-item input { width:56px; text-align:center; font-size:0.95rem; }
    .boton-recargar { margin-left:8px; padding:6px 10px; background:#eee; border-radius:4px; cursor:pointer; }
    /* Modal detalles */
    .modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,0.35); display:flex; align-items:center; justify-content:center; z-index:1000; }
    .modal { background:#fff; border-radius:8px; padding:18px; width:90%; max-width:520px; box-shadow:0 6px 20px rgba(0,0,0,0.2); }
    .modal h4 { margin-top:0; }
    .modal ul { list-style:none; padding:0; max-height:320px; overflow:auto; }
    .modal li { padding:8px 0; border-bottom:1px solid #eee; display:flex; justify-content:space-between; gap:14px; }
    .modal .meta { color:#666; font-size:0.9rem; }
    .btn-principal { background:#a52a2a; color:#fff; padding:10px 14px; border:none; border-radius:6px; cursor:pointer; }
    .btn-secundario { background:#f3f3f3; color:#222; padding:8px 12px; border-radius:6px; border:none; cursor:pointer; }
  </style>
</head>
<body>
  <div class="contenedor">
    <header>
      <img src="assets/logo.png" alt="Logo La Casona de 17"class="logo-login" />
      <h1>Men√∫ - La Casona de 17</h1>
      <p>Consumo en sal√≥n (por mesa)</p>
    </header>

    <section id="login">
      <h3>Inicio de sesi√≥n</h3>
      <input id="usuario" type="text" placeholder="Usuario" autocomplete="off" />
      <input id="clave" type="password" placeholder="Contrase√±a" autocomplete="off" />
      <button onclick="iniciarSesion()" class="btn-principal">Entrar</button>
    </section>

    <section id="contenido" style="display:none;">
      <p><strong>Usuario conectado:</strong> <span id="usuario-conectado"></span></p>

      <div id="resumen-cobros">
        <h3>üìä Resumen del d√≠a</h3>
        <p><strong>Fecha:</strong> <span id="fecha-resumen"></span></p>
        <p><strong>Pedidos pendientes:</strong> <span id="total-pendientes">0</span></p>
        <p><strong>Importe pendiente:</strong> <span id="importe-pendiente">0</span> CUP</p>
        <p><strong>Pedidos cobrados:</strong> <span id="total-cobrados">0</span></p>
        <p><strong>Importe cobrado:</strong> <span id="importe-cobrado">0</span> CUP</p>
      </div>

      <div style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
        <label for="local"><strong>Tipo de local:</strong></label>
        <select id="local">
          <option value="Restaurant">Restaurant</option>
          <option value="Bar">Bar</option>
          <option value="Pizzer√≠a">Pizzer√≠a</option>
        </select>

        <label for="mesa" style="margin-left:8px;"><strong>Mesa:</strong></label>
        <input id="mesa" type="text" placeholder="Ej. 5" style="width:80px;" />
        <button class="boton-recargar" id="btn-recargar-menu" title="Recargar men√∫">Recargar men√∫</button>
      </div>

      <div style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
        <label for="filtro"><strong>Filtrar por categor√≠a:</strong></label>
        <select id="filtro"><option value="todos">Todos</option></select>
      </div>

      <div id="menu" aria-live="polite"></div>

      <p><strong>Total:</strong> <span id="total">0</span> CUP</p>
      <p><strong>Platos seleccionados:</strong> <span id="cantidad-items">0</span></p>

      <div style="display:flex; gap:10px; margin:14px 0;">
        <button onclick="revisarPedido()" class="btn-principal">Revisar pedido</button>
        <button onclick="limpiarSeleccion()" class="btn-secundario">Limpiar selecci√≥n</button>
      </div>

      <div id="confirmacion" style="display:none; margin-top:20px;">
        <h3 style="color:green;">‚úÖ Pedido procesado</h3>
        <div id="resumen"></div>
      </div>

      <div id="pedidos-pendientes" style="margin-top:30px;"></div>

      <button onclick="cerrarSesion()" style="margin-top:20px;" class="btn-secundario">Cerrar sesi√≥n</button>
    </section>
  </div>

  <!-- Modal placeholder -->
  <div id="modal-detalle-root"></div>

  <script type="module" src="../scripts/script-dependientes.js"></script>
</body>
</html>
